{% extends 'base.html' %}

{% block content %}


      <div class="content-i col-sm-4">
            <div class="content">
              <div class="row">
                <div class="col-sm-12">
                  <div class="element-wrapper">
                    <h6 class="element-header">
                      Top Performers
                    </h6>
                    <div class="element-box">
                      <div class="el-chart-w">
                        <canvas height="145" id="barChart1" width="300"></canvas>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>

    <div class="content-i col-sm-4">
            <div class="content">
              <div class="row">
                <div class="col-sm-12">
                  <div class="element-wrapper">
                    <h6 class="element-header">
                      Day Wise Stats
                    </h6>
                    <div class="element-box">
                      <div class="el-chart-w">
                        <canvas height="145" id="lineChart" width="300"></canvas>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
        </div>





{% endblock %}

{% block extrajs %}
<script src="/static/vendors/Chart.js/dist/Chart.min.js"></script>
<script>
$(document).ready(function(){

if ($("#barChart1").length) {
      var barChart1 = $("#barChart1");
      var barData1 = {
        labels: [{{top_performers.0.user}}, {{top_performers.1.user}}, {{top_performers.2.user}}, {{top_performers.3.user}}, {{top_performers.4.user}}],
        datasets: [{
          label: "Top performer",
          backgroundColor: ["#5797FC", "#629FFF", "#6BA4FE", "#74AAFF", "#7AAEFF", '#85B4FF'],
          borderColor: ['rgba(255,99,132,0)', 'rgba(54, 162, 235, 0)', 'rgba(255, 206, 86, 0)', 'rgba(75, 192, 192, 0)', 'rgba(153, 102, 255, 0)', 'rgba(255, 159, 64, 0)'],
          borderWidth: 1,
          data: [{{top_performers.0.count_items}}, {{top_performers.1.count_items}}, {{top_performers.2.count_items}}, {{top_performers.3.count_items}}, {{top_performers.4.count_items}}]
        }]
      };
      // init bar chart
      new Chart(barChart1, {
        type: 'bar',
        data: barData1,
        options: {
          scales: {
            xAxes: [{
              display: false,
              ticks: {
                fontSize: '11',
                fontColor: '#969da5'
              },
              gridLines: {
                color: 'rgba(0,0,0,0.05)',
                zeroLineColor: 'rgba(0,0,0,0.05)'
              }
            }],
            yAxes: [{
              ticks: {
                beginAtZero: true
              },
              gridLines: {
                color: 'rgba(0,0,0,0.05)',
                zeroLineColor: '#6896f9'
              }
            }]
          },
          legend: {
            display: false
          },
          animation: {
            animateScale: true
          }
        }
      });
    }
     if ($("#lineChart").length) {
      var lineChart = $("#lineChart");

      // line chart data
      var lineData = {
        labels: [{{day_wise_posts.0.day}}, {{day_wise_posts.1.day}}, {{day_wise_posts.2.day}}, {{day_wise_posts.3.day}}, {{day_wise_posts.4.day}}, {{day_wise_posts.5.day}}, {{day_wise_posts.6.day}}, {{day_wise_posts.7.day}}],
        datasets: [{
          label: "No. of Posts",
          fill: false,
          lineTension: 0,
          backgroundColor: "#fff",
          borderColor: "#6896f9",
          borderCapStyle: 'butt',
          borderDash: [],
          borderDashOffset: 0.0,
          borderJoinStyle: 'miter',
          pointBorderColor: "#fff",
          pointBackgroundColor: "#2a2f37",
          pointBorderWidth: 3,
          pointHoverRadius: 10,
          pointHoverBackgroundColor: "#FC2055",
          pointHoverBorderColor: "#fff",
          pointHoverBorderWidth: 3,
          pointRadius: 6,
          pointHitRadius: 10,
          data: [{{day_wise_posts.0.count_items}},{{day_wise_posts.1.count_items}} , {{day_wise_posts.2.count_items}}, {{day_wise_posts.3.count_items}}, {{day_wise_posts.4.count_items}}, {{day_wise_posts.5.count_items}}, {{day_wise_posts.6.count_items}},{{day_wise_posts.7.count_items}}],
          spanGaps: false
        }]
      };

      // line chart init
      var myLineChart = new Chart(lineChart, {
        type: 'line',
        data: lineData,
        options: {
          legend: {
            display: false
          },
          scales: {
            xAxes: [{
              ticks: {
                fontSize: '11',
                fontColor: '#969da5'
              },
              gridLines: {
                color: 'rgba(0,0,0,0.05)',
                zeroLineColor: 'rgba(0,0,0,0.05)'
              }
            }],
            yAxes: [{
              display: false,
              ticks: {
                beginAtZero: true,
                max: 65
              }
            }]
          }
        }
      });
    }
});
</script>

{% endblock %}

